# yamlé”šç‚¹(ä¸æ‡‚è‡ªè¡ŒGoogle)å‹¿åŠ¨
proxy-provider-http: &http
  type: http
  interval: 3600
  health-check:
    enable: false
    url: https://1.1.1.1/generate_204
    interval: 7200

proxy-provider-file: &file
  type: file
  health-check:
    enable: false
    url: https://1.1.1.1/generate_204
    interval: 7200

# Clashé…ç½®
mixed-port: 7890
allow-lan: false
mode: rule
log-level: info
ipv6: false

external-controller: 127.0.0.1:9090
# æ§åˆ¶é¢æ¿ç›¸å¯¹è·¯å¾„
# external-ui: folder

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  default-nameserver:
   - 223.5.5.5
   - 119.29.29.29
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver: 
    - 'https://doh.pub/dns-query'
    - 'https://223.5.5.5/dns-query'
  fallback:
    - 'https://doh.dns.sb/dns-query'
    - 'https://1.1.1.1/dns-query'
    - 'tls://8.8.4.4:853'
  fallback-filter:
    geoip: true
    geoip-code: CN
    
# å¦‚æœæœ‰èŠ‚ç‚¹å¯æŒ‰æ–‡æ¡£å¡«å†™ï¼Œå¹¶åœ¨groupå†…ä½¿ç”¨    
    proxy-groups:
  - name: ğğ«ğ¨ğ±ğ²
    type: select
    use:
      - Sub1
    # - Sub2
    # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    # filter: "ğŸ‡­ğŸ‡°|HK|Hong|é¦™æ¸¯|æ¸¯"

#Telegramç­–ç•¥ç»„
  - name: ğ“ğğ¥ğğ ğ«ğšğ¦
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
#Twitterç­–ç•¥ç»„
  - name: ğ“ğ°ğ¢ğ­ğ­ğğ«
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
#Facebookç­–ç•¥ç»„
  - name: ğ…ğšğœğğ›ğ¨ğ¨ğ¤
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
#Netflixç­–ç•¥ç»„
  - name: ğğğ­ğŸğ¥ğ¢ğ±
    type: select
    proxies:      
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
#Disneyç­–ç•¥ç»„
  - name: ğƒğ¢ğ¬ğ§ğğ²+
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
#Bilibiliç­–ç•¥ç»„
  - name: ğğ¢ğ¥ğ¢ğ›ğ¢ğ¥ğ¢
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğŒğ
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«    
#Tiktokç­–ç•¥ç»„
  - name: ğ“ğ¢ğ¤ğ“ğ¨ğ¤
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«   
#Chatgptç­–ç•¥ç»„
  - name: ğğ©ğğ§ğ€ğˆ
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
#å›½å¤–ç½‘ç«™ç­–ç•¥ç»„
  - name: å›½å¤–ç½‘ç«™
    type: select
    proxies:
      - ğğ«ğ¨ğ±ğ²
      - ğ‡ğŠ
      - ğ“ğ–
      - ğ’ğ†
      - ğ‰ğ
      - ğ”ğ’
      - ğğ­ğ¡ğğ«
     
  - name: ğ‡ğŠ
    type: url-test
    use:
      - Sub1
      # - Sub2
      # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    filter: "ğŸ‡­ğŸ‡°|HK|Hong|é¦™æ¸¯|æ¸¯"

  - name: ğ“ğ–
    type: url-test
    use:
      - Sub1
      # - Sub2
      # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    filter: "ğŸ‡¹ğŸ‡¼|tw|TW|å°æ¹¾|å°|Taiwan"  

    - name: ğŒğ
    type: url-test
    use:
      - Sub1
      # - Sub2
      # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    filter: "ğŸ‡²ğŸ‡´|MO|æ¾³é—¨|æ¾³é–€|Macao"

  - name: ğ’ğ†
    type: url-test
    use:
      - Sub1
      # - Sub2
      # - Sub3
    filter: "ğŸ‡¸ğŸ‡¬|SG|Singapore|ç‹®åŸ|æ–°åŠ å¡" 

  - name: ğ‰ğ
    type: url-test
    use:
      - Sub1
      # - Sub2
      # - Sub3
    filter: "ğŸ‡¯ğŸ‡µ|JP|japan|æ—¥æœ¬"

  - name: ğ”ğ’
    type: url-test
    use:
      - Sub1
      # - Sub2
      # - Sub3
    filter: "ğŸ‡ºğŸ‡¸|US|United|ç¾|ç¾å›½"

  - name: ğğ­ğ¡ğğ«
    type: select
    use:
      - Sub1
      # - Sub2
      # - Sub3
    # ç­›é€‰é™¤æ—¥ç¾æ–°æ¸¯å¤–çš„èŠ‚ç‚¹ï¼Œå¯è‡ªè¡ŒæŒ‰æ ¼å¼æ·»åŠ 
    filter: "^(?!.*(?:Hong|HK|TW|Taiwan|USA|Japan|Singapore|USA|ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡¸ğŸ‡¬|ğŸ‡¹ğŸ‡¼|ğŸ‡ºğŸ‡¸|é¦™æ¸¯|æ—¥æœ¬|ç‹®åŸ|æ–°åŠ å¡|å°æ¹¾|ç¾å›½)).*"


# proxy-provider å¯å‚è€ƒmetaå†…æ ¸æ–‡æ¡£ https://clash-meta.wiki/config/proxy-providers
proxy-providers:
  # åœ¨çº¿è®¢é˜…,æœ‰å¤šä¸ªæœºåœºæŒ‰æ ¼å¼ä¹¦å†™åœ¨ä¸‹é¢
  Sub1:
    <<: *http
    path: ./proxies/Sub1.yaml
    url: https://v1.dogapi.yachts/api/v1/client/subscribe?token=b73a13fe4c59f6a312480aa8b629543b

  # Sub3:
  #   <<: *file
  #   path: ./proxies/Sub2.yaml
  #   url: è®¢é˜…é“¾æ¥
  #
  # æœ¬åœ°èŠ‚ç‚¹ï¼Œè·¯å¾„å¯å¡«å†™ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„(ä¸ºclashå·¥ä½œç›®å½•ä¸‹)
  # Sub3:
  #   <<: *file
  #   path: ./proxies/Sub3.yaml
  #   url: è®¢é˜…é“¾æ¥
# å¯å‚è€ƒmetaæ ¸æ–‡æ¡£ https://clash-meta.wiki/config/rules/rule-provider
rule-providers:
  TikTok:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml"
    path: ./ruleset/TikTok.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    path: ./ruleset/Telegram.yaml
    interval: 86400

  Twitter:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml"
    path: ./ruleset/Twitter.yaml
    interval: 86400

  Facebook:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml"
    path: ./ruleset/Facebook.yaml
    interval: 86400

  Netflix:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
    path: ./ruleset/Netflix.yaml
    interval: 86400

  Disney:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml"
    path: ./ruleset/Disney.yaml
    interval: 86400

  BiliBili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./ruleset/BiliBili.yaml
    interval: 86400    

  OpenAI:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml"
    path: ./ruleset/OpenAI.yaml
    interval: 86400

  WeChat:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/WeChat/WeChat.yaml"
    path: ./ruleset/WeChat.yaml
    interval: 86400
    
  China:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml"
    path: ./ruleset/China.yaml
    interval: 86400

  Global:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  Lan:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    path: ./ruleset/Lan.yaml
    interval: 86400

# è§„åˆ™éƒ¨åˆ†å»ºè®®åŸŸåè§„åˆ™åœ¨å‰ï¼Œipè§„åˆ™åœ¨å
# ipè§„åˆ™å°½é‡ä½¿ç”¨no-resolveï¼Œå‡å°‘éœ€è¦èµ°ä»£ç†çš„åŸŸååœ¨æœ¬åœ°è§£æçš„æƒ…å†µ
rules:
  - RULE-SET,Telegram,ğ“ğğ¥ğğ ğ«ğšğ¦
  - RULE-SET,Twitter,ğ“ğ°ğ¢ğ­ğ­ğğ«
  - RULE-SET,Facebook,ğ…ğšğœğğ›ğ¨ğ¨ğ¤
  - RULE-SET,Netflix,ğğğ­ğŸğ¥ğ¢ğ±
  - RULE-SET,Disney,ğƒğ¢ğ¬ğ§ğğ²+
  - RULE-SET,BiliBili,ğğ¢ğ¥ğ¢ğ›ğ¢ğ¥ğ¢
  - RULE-SET,TikTok,ğ“ğ¢ğ¤ğ“ğ¨ğ¤
  - RULE-SET,OpenAI,ğğ©ğğ§ğ€ğˆ
  - RULE-SET,Global,å›½å¤–ç½‘ç«™
  - RULE-SET,WeChat,ğƒğˆğ‘ğ„ğ‚ğ“
  - RULE-SET,China,ğƒğˆğ‘ğ„ğ‚ğ“
  - RULE-SET,Lan,ğƒğˆğ‘ğ„ğ‚ğ“
